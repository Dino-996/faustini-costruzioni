<div class="py-4 mx-8 my-4 animate-fade duration-300"
  [ngClass]="{'animate-play': isAnimationTitleCard(), 'animate-stop': !isAnimationTitleCard()}">
  <div class="max-w-7xl mx-auto px-6 lg:px-8">
    <div class="text-start px-2 lg:px-0">
      <h2 class="text-3xl font-extrabold text-blue-navy sm:text-4xl titleCard animate-fade-left duration-500"
        [ngClass]="{'animate-play': isAnimationTitleCard(), 'animate-stop': !isAnimationTitleCard()}">I nostri servizi
      </h2>
      <hr class="border-blue-navy my-4 w-60 animate-fade-left duration-500"
        [ngClass]="{'animate-play': isAnimationTitleCard(), 'animate-stop': !isAnimationTitleCard() }">
      <p class="mt-4 text-lg text-gray-900 textCard animate-fade-right duration-500"
        [ngClass]="{'animate-play': isAnimationTextCard(), 'animate-stop': !isAnimationTextCard()}">
        L’idrodemolizione &egrave; una tecnica innovativa che utilizza l’acqua ad altissima pressione per rimuovere il
        calcestruzzo danneggiato,
        essenziale nel ripristino di infrastrutture come ponti e viadotti. Questo metodo si integra perfettamente con il
        restauro conservativo,
        il quale mira a preservare l’estetica degli edifici rinforzando elementi strutturali come fondamenta, travi e
        colonne. Parallelamente, i lavori stradali richiedono attenzione alla manutenzione di pile e viadotti, oltre
        alla gestione delle acque e all’installazione di condotti e tubazioni. La sinergia tra queste pratiche evidenzia
        un approccio olistico alla costruzione e al mantenimento dell’infrastruttura urbana, dove la tecnologia e il
        rispetto per il patrimonio storico si fondono per garantire sicurezza e bellezza nelle nostre città
      </p>

    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-y-8 mt-8 animate-jump-in animate-duration-500">
      @for (project of projects; track project.id) {
      <div
        class="relative overflow-hidden cursor-pointer bg-gray-100 rounded-lg min-h-96 min-w-40 transition-transform ease-in-out transform hover:scale-105 ml-5 itemCard animate-fade duration-500"
        [ngClass]="{'animate-play': isAnimationItemCard(), 'animate-stop': !isAnimationItemCard()}">
        <img class="w-full h-full object-cover transition-opacity duration-300" [src]="project.image"
          alt="I nostri progetti">
        <div class="absolute inset-0 bg-gradient-to-t from-black opacity-50 transition-opacity duration-300"
          [ngClass]="{'opacity-0': !project.expanded, 'opacity-50': project.expanded}"></div>
        <div class="absolute inset-0 flex items-center justify-center p-6 transition-opacity duration-300"
          [ngClass]="{'opacity-100': project.expanded, 'opacity-0': !project.expanded}">
          <div class="text-center">
            @if(project.expanded){
            <div class="relative inline-flex items-center mt-2 text-2xl font-bold text-white">
              <h3 class="relative z-10">{{ project.title }}</h3>
              <div class="absolute inset-x-0 bottom-0 h-2 bg-orange"></div>
            </div>
            <p class="mt-2 text-base text-gray-50">{{ project.description }}</p>
            }
          </div>
        </div>

        @if(!project.expanded) {
        <button (click)="toggleDescription(project)"
          class="absolute bottom-4 right-4 bg-blue-navy border-2 border-white text-white px-2 py-2 rounded-full hover:bg-transparent hover:border-blue-navy hover:text-blue-navy transition duration-300">
          <svg fill="currentColor" height="20" width="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
              <path fill-rule="evenodd"
                d="M5,2 L7,2 C7.55228475,2 8,2.44771525 8,3 C8,3.51283584 7.61395981,3.93550716 7.11662113,3.99327227 L7,4 L5,4 C4.48716416,4 4.06449284,4.38604019 4.00672773,4.88337887 L4,5 L4,19 C4,19.5128358 4.38604019,19.9355072 4.88337887,19.9932723 L5,20 L19,20 C19.5128358,20 19.9355072,19.6139598 19.9932723,19.1166211 L20,19 L20,17 C20,16.4477153 20.4477153,16 21,16 C21.5128358,16 21.9355072,16.3860402 21.9932723,16.8833789 L22,17 L22,19 C22,20.5976809 20.75108,21.9036609 19.1762728,21.9949073 L19,22 L5,22 C3.40231912,22 2.09633912,20.75108 2.00509269,19.1762728 L2,19 L2,5 C2,3.40231912 3.24891996,2.09633912 4.82372721,2.00509269 L5,2 L7,2 L5,2 Z M21,2 L21.081,2.003 L21.2007258,2.02024007 L21.2007258,2.02024007 L21.3121425,2.04973809 L21.3121425,2.04973809 L21.4232215,2.09367336 L21.5207088,2.14599545 L21.5207088,2.14599545 L21.6167501,2.21278596 L21.7071068,2.29289322 L21.7071068,2.29289322 L21.8036654,2.40469339 L21.8036654,2.40469339 L21.8753288,2.5159379 L21.9063462,2.57690085 L21.9063462,2.57690085 L21.9401141,2.65834962 L21.9401141,2.65834962 L21.9641549,2.73400703 L21.9641549,2.73400703 L21.9930928,2.8819045 L21.9930928,2.8819045 L22,3 L22,3 L22,9 C22,9.55228475 21.5522847,10 21,10 C20.4477153,10 20,9.55228475 20,9 L20,5.414 L13.7071068,11.7071068 C13.3466228,12.0675907 12.7793918,12.0953203 12.3871006,11.7902954 L12.2928932,11.7071068 C11.9324093,11.3466228 11.9046797,10.7793918 12.2097046,10.3871006 L12.2928932,10.2928932 L18.584,4 L15,4 C14.4477153,4 14,3.55228475 14,3 C14,2.44771525 14.4477153,2 15,2 L21,2 Z">
              </path>
            </g>
          </svg>
        </button>
        } @else {
        <button (click)="toggleDescription(project)"
          class="absolute bottom-4 right-4 bg-blue-navy border-2 border-white text-white px-2 py-2 rounded-full hover:bg-transparent hover:border-[#A94442] hover:text-[#A94442] transition duration-300">
          <svg viewBox="0 0 24 24" height="20" width="20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
              <path
                d="M20.7457 3.32851C20.3552 2.93798 19.722 2.93798 19.3315 3.32851L12.0371 10.6229L4.74275 3.32851C4.35223 2.93798 3.71906 2.93798 3.32854 3.32851C2.93801 3.71903 2.93801 4.3522 3.32854 4.74272L10.6229 12.0371L3.32856 19.3314C2.93803 19.722 2.93803 20.3551 3.32856 20.7457C3.71908 21.1362 4.35225 21.1362 4.74277 20.7457L12.0371 13.4513L19.3315 20.7457C19.722 21.1362 20.3552 21.1362 20.7457 20.7457C21.1362 20.3551 21.1362 19.722 20.7457 19.3315L13.4513 12.0371L20.7457 4.74272C21.1362 4.3522 21.1362 3.71903 20.7457 3.32851Z"
                fill="currentColor">
              </path>
            </g>
          </svg>
        </button>
        }
      </div>
      }
    </div>
  </div>
</div>
